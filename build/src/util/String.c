/* String.c generated by valac 0.34.8, the Vala compiler
 * generated from String.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>

typedef struct _utilString utilString;

struct _utilString {
	gint _retainCount;
	gchar* buf;
	gint buf_length1;
};



void util_string_free (utilString* self);
static void util_string_instance_init (utilString * self);
utilString* util_string_retain (utilString* self);
void util_string_release (utilString* self);
void util_string_free (utilString* self);
utilString* util_string_new (const gchar* str);
gchar* util_string_to_string (utilString* self);


utilString* util_string_retain (utilString* self) {
	utilString* result = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	g_atomic_int_add ((volatile gint *) (&self->_retainCount), 1);
	result = self;
	return result;
}


void util_string_release (utilString* self) {
	gboolean _tmp0_ = FALSE;
	g_return_if_fail (self != NULL);
	_tmp0_ = g_atomic_int_dec_and_test ((volatile gint *) (&self->_retainCount));
	if (_tmp0_) {
		util_string_free (self);
	}
}


static gchar string_get (const gchar* self, glong index) {
	gchar result = '\0';
	glong _tmp0_ = 0L;
	gchar _tmp1_ = '\0';
	g_return_val_if_fail (self != NULL, '\0');
	_tmp0_ = index;
	_tmp1_ = ((gchar*) self)[_tmp0_];
	result = _tmp1_;
	return result;
}


utilString* util_string_new (const gchar* str) {
	utilString* self;
	const gchar* _tmp0_ = NULL;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	gchar* _tmp3_ = NULL;
	g_return_val_if_fail (str != NULL, NULL);
	self = g_slice_new0 (utilString);
	util_string_instance_init (self);
	_tmp0_ = str;
	_tmp1_ = strlen (_tmp0_);
	_tmp2_ = _tmp1_;
	_tmp3_ = g_new0 (gchar, _tmp2_);
	self->buf = (g_free (self->buf), NULL);
	self->buf = _tmp3_;
	self->buf_length1 = _tmp2_;
	{
		gint i = 0;
		i = 0;
		{
			gboolean _tmp4_ = FALSE;
			_tmp4_ = TRUE;
			while (TRUE) {
				gint _tmp6_ = 0;
				const gchar* _tmp7_ = NULL;
				gint _tmp8_ = 0;
				gint _tmp9_ = 0;
				gchar* _tmp10_ = NULL;
				gint _tmp10__length1 = 0;
				gint _tmp11_ = 0;
				const gchar* _tmp12_ = NULL;
				gint _tmp13_ = 0;
				gchar _tmp14_ = '\0';
				gchar _tmp15_ = '\0';
				if (!_tmp4_) {
					gint _tmp5_ = 0;
					_tmp5_ = i;
					i = _tmp5_ + 1;
				}
				_tmp4_ = FALSE;
				_tmp6_ = i;
				_tmp7_ = str;
				_tmp8_ = strlen (_tmp7_);
				_tmp9_ = _tmp8_;
				if (!(_tmp6_ < _tmp9_)) {
					break;
				}
				_tmp10_ = self->buf;
				_tmp10__length1 = self->buf_length1;
				_tmp11_ = i;
				_tmp12_ = str;
				_tmp13_ = i;
				_tmp14_ = string_get (_tmp12_, (glong) _tmp13_);
				_tmp10_[_tmp11_] = _tmp14_;
				_tmp15_ = _tmp10_[_tmp11_];
			}
		}
	}
	return self;
}


gchar* util_string_to_string (utilString* self) {
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	gchar* _tmp1_ = NULL;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->buf;
	_tmp0__length1 = self->buf_length1;
	_tmp1_ = g_strdup ((const gchar*) _tmp0_);
	result = _tmp1_;
	return result;
}


static void util_string_instance_init (utilString * self) {
	self->_retainCount = 1;
}


void util_string_free (utilString* self) {
	self->buf = (g_free (self->buf), NULL);
	g_slice_free (utilString, self);
}



